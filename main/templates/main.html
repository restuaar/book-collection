{% extends 'base.html' %} 

{% block title %} KoleksiKu | Book Collection {%endblock title %} 

{% block links %}
<li class="nav-item">
  <a
    class="nav-link active"
    href="{% url 'main:logout' %}"
    ><span class="border-bottom border-light">Logout</span></a
  >
</li>
<li class="nav-item">
  <p class="navbar-text mb-0">
    <span class="text-light me-2 ps-2 border-start border-light"
      >Welcome, {{ user }}</span
    >
  </p>
</li>
<li class="nav-item">
  <a
    class="nav-link active"
    href="{% url 'main:show_main' %}"
    ><span class="border-bottom border-light">KoleksiKu</span></a
  >
</li>
<li class="nav-item">
  <a
    class="nav-link active"
    href="{% url 'main:show_tambah_buku' %}"
    ><span class="border-bottom border-light">Tambah Buku</span></a
  >
</li>
{% endblock links %} 

{% block content %}
<div class="album pb-5 pt-3">
  {% if new_item %}
  <div class="card w-50 mb-3 mx-auto">
    <p class="card-body text-center mb-0">
      Buku {{ new_item.name }} dengan jumlah {{ new_item.amount }} telah ditambahkan
    </p>
  </div>
  {% endif %}
  <div class="container">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
      {% for buku in data %}
      <article class="col">
        <div class="card text-white bg-dark shadow-sm">
          <div class="card-body">
            <form
              action="{% url 'main:delete' id=buku.id %}"
              method="POST"
            >
              {% csrf_token %}
              <button
                type="submit"
                class="btn-close btn-close-white position-absolute top-0 end-0 me-2 mt-2"
              ></button>
            </form>

            <h5 class="card-title fw-bold">{{ buku.name }}</h5>
            <p class="card-text">{{ buku.description }}</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a
                  href="{% url 'main:add_stock' id=buku.id %}"
                  type="button"
                  class="btn btn-sm btn-outline-light"
                >
                  +
                </a>
                <a
                  href="{% url 'main:sub_stock' id=buku.id %}"
                  type="button"
                  class="btn btn-sm btn-outline-light"
                >
                  -
                </a>
              </div>
              <small class="text-white">{{ buku.amount }}</small>
            </div>
          </div>
        </div>
      </article>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock content %}
